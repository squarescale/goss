language: go

go:
- 1.11.x

sudo: required
dist: trusty

services:
- docker

before_install:
- go get -u golang.org/x/lint/golint

script:
- make

deploy:
  provider: releases
  file:
    - release/goss-linux-amd64
    - release/goss-linux-386
    - release/goss-linux-arm
    - extras/dgoss/dgoss
  skip_cleanup: true
  on:
    repo: squarecale/goss
    tags: true
